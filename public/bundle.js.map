{"version":3,"file":"bundle.js","sources":["../src/dataDownload.js","../node_modules/d3-zoom/src/transform.js","../src/main.js"],"sourcesContent":["export async function getData() {\n  const authUrl = \"https://www.strava.com/oauth/token\";\n  const payload = {\n    client_id: \"129255\",\n    client_secret: \"3681592542e4b0c070643fc43372913f3bd92bf0\",\n    refresh_token: \"295121019eb432cfce9119e1da31d1784e0d17b2\",\n    grant_type: \"refresh_token\",\n    f: \"json\",\n  };\n\n  let data = [];\n  try {\n    const tokenResponse = await fetch(authUrl, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n\n    // console.log(tokenResponse);\n    const accessToken = await tokenResponse.json();\n    // console.log(accessToken.access_token);\n\n    let allDataDownloaded = false;\n    let pageNumber = 1;\n    while (!allDataDownloaded) {\n      // const url = new URL(activitiesUrl);\n      // const params = new URLSearchParams({ per_page: '200', page: pageNumber.toString() });\n      // url.search = params.toString()\n      // console.log(url.toString());\n      // const searchUrl =\n      const activityRequest = new Request(\n        `https://www.strava.com/api/v3/athlete/activities?per_page=200&page=${pageNumber}`,\n        {\n          method: \"GET\",\n          headers: { Authorization: \"Bearer \" + accessToken.access_token },\n        }\n      );\n      const result = await fetch(activityRequest);\n      console.log(result);\n      if (!result.ok) {\n        throw new Error(`Response status: ${result.status}`);\n        return 0;\n      }\n      const newData = await result.json();\n      data = data.concat(newData);\n      //console.log(data);\n      pageNumber += 1;\n      if (newData.length < 200) {\n        allDataDownloaded = true;\n        console.log(\"data downloaded\");\n      }\n    }\n    return data;\n  } catch (error) {\n    console.error(\"Error:\", error);\n  }\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import { getData } from \"./dataDownload\";\nimport { menu } from \"./menu.js\";\nasync function main(){\n    let data = await getData();\n    console.log(data)\n}\n\nmain()"],"names":[],"mappings":"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"}